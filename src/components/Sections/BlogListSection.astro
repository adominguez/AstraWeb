---
import BentoItem from "@components/Bento/BentoItem.astro";
import SectionContainer from "./SectionContainer.astro";
import BentoGrid from "@components/Bento/BentoGrid.astro";
import Image from "astro/components/Image.astro";
import { getPosts } from "@lib/wp";

const { TITLE = 'algo', DESCRIPTION = "descripci√≥n" } = Astro.props;

const data = await getPosts({ perPage: 9 });
---

<SectionContainer id="pilares-corporativos" class="mb-20">
  <div class="w-full flex flex-col gap-4">
    <h2 class="text-3xl md:text-4xl font-IBMCondensed text-accent font-medium text-balance">{TITLE}</h2>
    <p class="pt-4 text-gray-300 font-extralight text-pretty" set:html={DESCRIPTION} />
  </div>
  <BentoGrid>
    {
      data.map(({title, image, slug}:{title:string, image:string, slug:string}) => (
        <BentoItem tag="article" class="bg-violet-700 md:row-span-2 rounded-lg bento-item, relative">
          <a href={`blog/${slug}`} class="absolute inset-0 z-10 px-4 py-2">
            <h3 class="text-xl line-clamp-3 font-semibold font-IBMCondensed">{title}</h3>
          </a>
          {/* <p class="pt-4 text-gray-300 font-extralight text-pretty">{post.excerpt.rendered}</p> */}
          <div class="content mb-4 mx-4 mt-24">
            <span>Contenido</span>
            <Image width={image.thumbnail.width} height={image.thumbnail.height} src={image.thumbnail.src} alt={image.thumbnail.alt} class="w-full object-cover rounded-lg image transition-transform" />
          </div>
        </BentoItem>
      ))
    }
  </BentoGrid>
</SectionContainer>

<style>

  a:hover + .content .image {
    transform: scale(1.05);
  }
</style>
